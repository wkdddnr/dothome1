<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PORTFOLIO</title>

    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style03.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&family=Roboto:wght@100;300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo&display=swap" rel="stylesheet">
</head>
<body>
    <div class="scroll">0</div>
    <main id="contents"
        data--1 = "opacity:0"
        data-100 = "opacity:1"
    >
        <div id="cont1">
            <div class="main reveal"></div>
            <div class="cir reveal">
                <h2>PORTFOLIO</h2>
            </div>
        </div>
        <div id="cont2"
            data-200 = "opacity:0"
            data-300 = "opacity:1"
        >
            <div class="desc">
                <div>
                    <a href="#">PORTFOLIO</a>
                    <a href="#cont27">Contact</a>
                    <a href="#cont23">Script</a>
                    <a href="#cont16">Animation</a>
                    <a href="#cont10">Site</a>
                    <a href="#cont6">About</a>
                </div>
            </div>
        </div>
        <div id="cont3"
            data-300 = "opacity:0"
            data-400 = "opacity:1"
        >
            <p>
                이곳에 프론트엔드 개발자를 꿈꾸며 공부하<br>
                고 만들어본 작업의 결과물들을 담았습니다.<br> 
                배울것이 아직 더 많지만 쌓여가는 경험과<br>
                함께 성장하는 사람이 되고싶습니다.
            </p>
            <a href="#">저의 사이트를 소개하겠습니다!</a>
        </div>
        <div id="cont4"
            data-500 = "opacity:0"
            data-700 = "opacity:1"
        >
            <div class="tit">
                <h2 id="abo_tit1">I AM</h2>
                <h2 id="abo_tit2">PRONT-END</h2>
                <h2 id="abo_tit3">DEVELOPER</h2>
            </div>
        </div>
    </main>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/skrollr@0.6.26/dist/skrollr.min.js"></script>
    <script>
        /* data */ 
        var s = skrollr.init(); // 사용 셋팅
        $(window).scroll(function(){
            let scrollTop = $(window).scrollTop();
            $(".scroll").text(parseInt(scrollTop)); // 스크롤 값 확인하기
        });

        /*------------------------------
        SupahScroll
        ------------------------------*/
        class SupahScroll {
            constructor(options) {
                this.opt = options || {}
                this.el = this.opt.el ? this.opt.el : '.supah-scroll'
                this.speed = this.opt.speed ? this.opt.speed : 0.1
                this.init()
            }

            init() {
                this.scrollY = 0;
                this.supahScroll = document.querySelectorAll(this.el)[0]
                this.supahScroll.classList.add('supah-scroll')
                /* title-text */ 
                this.abo_tit1 = document.querySelector("#abo_tit1")
                this.abo_tit1.classList.add('supah-scroll')
                this.abo_tit2 = document.querySelector("#abo_tit2")
                this.abo_tit2.classList.add('supah-scroll')
                this.abo_tit3 = document.querySelector("#abo_tit3")
                this.abo_tit3.classList.add('supah-scroll')
                this.events()
                this.update()
                this.animate()
            }

            update() {
                if (this.supahScroll === null) return
                document.body.style.height = `${this.supahScroll.width}px`
            }

            pause() {
                document.body.style.overflow = 'hidden'
                cancelAnimationFrame(this.raf)
            }

            play() {
                document.body.style.overflow = 'inherit'
                this.raf = requestAnimationFrame(this.animate.bind(this))
            }

            destroy() {
                this.supahScroll.classList.remove('supah-scroll')
                this.supahScroll.style.transform = 'none'
                document.body.style.overflow = 'inherit'
                window.removeEventListener('resize', this.update)
                cancelAnimationFrame(this.raf)
                delete this.supahScroll
            }

            animate() {
                this.scrollY += (window.scrollY - this.scrollY) * this.speed
                this.supahScroll.style.transform = `translate3d(${-this.scrollY}px,0,0)`
                this.abo_tit1.style.transform = `translate3d(${-this.scrollY * 0.2}px,0,0)`
                this.abo_tit2.style.transform = `translate3d(${-this.scrollY * 0.15}px,0,0)`
                this.abo_tit3.style.transform = `translate3d(${-this.scrollY * 0.5}px,0,0)`
                this.raf = requestAnimationFrame(this.animate.bind(this))
            }

            scrollTo(y) {
                window.scrollTo(0, y)
            }

            // staticScrollTo(y) {
            //     cancelAnimationFrame(this.raf)
            //     this.scrollY = y
            //     window.scrollTo(0, y)
            //     this.supahScroll.style.transform = `translate3d(0,${-y}px,0)`
            //     this.play()
            // }

            events() {
                window.addEventListener('load', this.update.bind(this))
                window.addEventListener('resize', this.update.bind(this))
            }
        }


        /*------------------------------
        Initialize
        ------------------------------*/
        const supahscroll = new SupahScroll({
            el: 'main',
            speed: 0.05
        })

        /* reveal */
        function scrollReveal(){
            const reveal = document.querySelectorAll(".reveal");
            reveal.forEach(elem => {
                let scrollTop = window.innerHeight/2;
                
                if(scrollTop){
                    elem.classList.add("show");
                }
            });
        }
        window.addEventListener("scroll", scrollReveal)
    </script>
</body>
</html>